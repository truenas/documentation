&NewLine;

{{< truetable >}}
| Setting | Description |
|---------|-------------|
| **No presets** | Select to retain control over all **Advanced Options** setting. Users can manually configure the SMB settings and parameters. |
| **Default share parameters** | The default option when you open the **Add SMB** screen. Use for any basic SMB share. These settings provide a baseline configuration that ensures compatibility and functionality and allows users to set up shares with commonly implemented options and behaviors. |
| **Basic time machine share** | Select to set up a basic time machine share. This provides a centralized location for users to store and manage system backups. |
| **Multi-User time machine** | Select to set up a multi-user time machine share. This option allows multiple users to use TrueNAS as a centralized backup solution while ensuring that each backup is kept separate and secure from the others. |
|  **Multi-Protocol (NFSv3/SMB) shares**|  Select for multi-protocol (NFSv4/SMB) shares. Choosing this option allows NFS and SMB users to access TrueNAS at the same time. Multi-protocol shares in TrueNAS try to enable kernel oplocks which are enabled per share when the chosen share uses both NFS and SMB protocols, but the oplocks are incompatible with SMB2/3 lease support. This incompatibility might trigger unexpected failures depending on the order in which the SMB client negotiates the first SMB tree connect. The multi-protocol share type is mutually exclusive with AAPL extension support like time machine that requires the SMB2/3 lease support. Therefore, time machine cannot be enabled and a warning message shows in the UI. Selecting other Apple protocol options also displays warning messages. Mulit-protocol shares can impact performance on all SMB shares. |
| **Private SMB Datasets and Shares** | Select to create a share that maps to a path determined by the username of the authenticated user. TrueNAS creates a unique, private dataset matching the user name. |
| **SMB WORM. Files become read-only via SMB after 5 minutes** | The **SMB WORM** preset only impacts writes over the SMB protocol. Before deploying this option in a production environment, determine whether the feature meets your requirements. Employing this option ensures data written to the share cannot be modified or deleted, thus increasing overall data integrity and security. |
| **Veeam repository with Fast Clone** | Requires an Enterprise license. Select to set up an SMB share to work with a Veeam repository for fast cloning. TrueNAS sets the ZFS record size to the default 128 KiB and the SMB block size to 128 KiB (**131072** default). This facilitates the file size information reported by the Sectors per Allocation Unit to Veeam Backup & Restore so that it uses the correct offsets and lengths when it issues the FSCTL_DUPLICTE_EXTENTS_TO_FILE requests. It prevents ZFS from rejecting fast copy requests due to improper alignments and prevents ZFS from falling back to an internal copy of the specified range. Sets the **Additional Parameters String** found at the bottom of the **Add SMB > Advanced Options** screen to show **block size = 131072**, the required default setting. |
{{< /truetable >}}
