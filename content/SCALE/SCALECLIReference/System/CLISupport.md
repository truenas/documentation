---
title: "Support"
description: "Provides information about the system support namespace in the TrueNAS CLI. Includes command syntax and common commands."
weight: 90
aliases:
draft: false
tags:
- support
---

## Support Namespace
The **support** namespace has nine commands and is based on Proactive Support management functions found in the SCALE API and web UI.
It provides access to system proactive support account settings and methods through the **support** commands.

## Support Commands
The following **support** commands allow you to configure Proactive support account settings, create a new support ticket and attach files to an existing ticket.

You can enter commands from the main CLI prompt or from the **support** namespace prompt.

### Interactive Argument Editor (TUI)

{{< include file="/_includes/CLI/HintInteractiveArgsEditor.md" >}}

### Attach_Ticket Command
Use the `attach_ticket` command to attach a file (debug, core, etc.) to an existing ticket.

{{< include file="/_includes/CLI/CLICommandWIP.md" >}}
<!-- commenting out until syntax can be verified and we can the command to work>
Tip! Use <core>system debug > /home/admin/<i>debugName.tgz</i></core> to save the debug file to the admin user home directory, and then specify this path to attach the file.

{{< expand "Using the Attach_Ticket Command" "v" >}}
#### Description
The `attach_ticket` command has one required property, `attach_ticket`.
`attach_ticket` has two required properties, `ticket` and `filename`, and one optional property `token`. 
`ticket` is the support ticket number generated by the system and returned in the output of the [`system support new_ticket`](#new_ticket-command) command. 
`filename` is the path to where and the name of file. 
Enter `--` after `attach_ticket` to open the interactive command editor.
Enter the command then press <kbd>Enter</kbd>.

{{< expand "New_Ticket Properties" "v" >}}
{{< truetable >}}
Enter the following property arguments inside the curly brackets, using the `:` to separate double-quoted property and value. Separate each property argument with a comma. For example:

<code>new_ticket={"title":"<i>Ticket Title</>","body":"<i<This is the description of the issue</i>","category":"<i>BUG</i>","critcality":""}

| Property | Required | Description | Syntax Example |
|----------|----------|-------------|----------------|
| `ticket` | Yes |  | <code>="<i></i>"</code> |
| `filename` | Yes |  | <code>="<i></i>"</code> |
| `token` | No |  | <code>="<i></i>"</code> |
{{< /truetable >}}
{{< /expand >}} 

#### Usage
From the CLI prompt, enter:

<code>system support attach_ticket </code>

{{< expand "Command Example" "v" >}}
```
system support attach_ticket 

```
{{< /expand >}}
{{< /expand >}}-->

### Attach_Ticket_Max_Size Command
The `attach_ticket_max_size` command returns the maximum size of a file you can upload to a support ticket.

{{< expand "Using the Attach_Ticket_Max_Size Command" "v" >}}
#### Description
The `attach_ticket_max_size` command does not require entering a property argument.
Enter the command then press <kbd>Enter</kbd>.
The command returns maximum size of a file you can attach to the ticket.

#### Usage
From the CLI prompt, enter:

<code>system support attach_ticket_max_size</code>

{{< expand "Command Example" "v" >}}
```
system support attach_ticket_max_size
30
```
{{< /expand >}}
{{< /expand >}}

### Config Command
The `config` command returns the current proactive support settings configured on the system. Use to locate the system-assigned ID, user name and title, contact information, and any secondary user name and contact information.

{{< expand "Using the Config Command" "v" >}}
#### Description
The `config` command does not require entering a property argument.
Enter the command then press <kbd>Enter</kbd>.
The command returns the current Proactive support configuration settings.

#### Usage
From the CLI prompt, enter:

<code>system support config</code>

{{< expand "Command Example" "v" >}}
```
system support config
+-----------------+-----------+
|              id | 1         |
|         enabled | <null>    |
|            name | test user |
|           title | tech doc  |
|           email |           |
|           phone |           |
|  secondary_name |           |
| secondary_title |           |
| secondary_email |           |
| secondary_phone |           |
+-----------------+-----------+
```
{{< /expand >}}
{{< /expand >}}

### Fetch_Categories Command
The `fetch_categories` command provides the available support ticket categories (types).

{{< expand "Using the Fetch_Categories Command" "v" >}}
#### Description
The `fetch_categories` command does not require entering a property argument.
Enter the command then press <kbd>Enter</kbd>.
The command returns a list of ticket categories.

#### Usage
From the CLI prompt, enter:

<code>system support fetch_categories</code>

{{< expand "Command Example" "v" >}}
```
system support fetch_categories
+-------------+--------------------+
|         BUG | Bug                |
|    HARDWARE | Hardware           |
|     INSTALL | Installation/Setup |
| PERFORMANCE | Performance        |
+-------------+--------------------+
```
{{< /expand >}}
{{< /expand >}}

### Fields Command
The `fields` command lists the proactive setting names.

{{< expand "Using the Fields Command" "v" >}}
#### Description
The `fields` command does not require entering a property argument.
Enter the command then press <kbd>Enter</kbd>.
The command returns a list of Proactive Support fields.

#### Usage
From the CLI prompt, enter:

<code>system support fields</code>

{{< expand "Command Example" "v" >}}
```
system support fields
name
Contact Name
title
Contact Title
email
Contact E-mail
phone
Contact Phone
secondary_name
Secondary Contact Name
secondary_title
Secondary Contact Title
secondary_email
Secondary Contact E-mail
secondary_phone
Secondary Contact Phone
```
{{< /expand >}}
{{< /expand >}}

### Is_Available Command
The `is_available` command returns whether proactive support is available for this system type and current license.

{{< expand "Using the Is_Available Command" "v" >}}
#### Description
The `is_available` command does not require entering a property argument.
Enter the command then press <kbd>Enter</kbd>.
The command returns true if successful.

#### Usage
From the CLI prompt, enter:

<code>system support is_available</code>

{{< expand "Command Example" "v" >}}
```
system support is_available
true
```
{{< /expand >}}
{{< /expand >}}

### Is_Available_And_Enabled Command
Use the `is_available_and_enabled` command returns whether proactive support is available and enabled.

{{< expand "Using the Is_Available_And_Enabled Command" "v" >}}
#### Description
The `is_available_and_enabled` command does not require entering a property argument.
Enter the command then press <kbd>Enter</kbd>.
The command returns true if successful.

#### Usage
From the CLI prompt, enter:

<code>system support is_available_and_enabled</code>

{{< expand "Command Example" "v" >}}
```
system support is_available_and_enabled
<null>
```
{{< /expand >}}
{{< /expand >}}

### New_Ticket Command
Use the `new_ticket` command to create a new support ticket with or without a debug attached.

{{< expand "Using the New_Ticket Command" "v" >}}
#### Description
The `new_ticket` command has one required property, `new_ticket`.
`new_ticket` is an array object with eight required properties and four optional properties (see **New_Ticket Properties** below for details.)
Default value is `new_ticket={}`.
To use the interactive command editor, enter `--` after `new_ticket`.
Enter property arguments using the `=` delimiter to separate the property and value except where otherwise specified.
Double-quote values with special characters.
Enter the command string then press <kbd>Enter</kbd>.
The command returns a dictionary with the support ticket number, URL to Salesforce ticket, and whether a debug file is attached.

{{< expand "New_Ticket Properties" "v" >}}

Enter the following property arguments inside the curly brackets, using the `:` to separate double-quoted property and value. Separate each property argument with a comma. For example:

<code>new_ticket={"title":"<i>Ticket Title</i>","body":"<i>This is the description of the issue</i>","category":"<i>BUG</i>","critcality":""}</code>

{{< truetable >}}
| Property | Required | Description | Syntax Example |
|----------|----------|-------------|----------------|
| `title` | Yes | Enter the title for the ticket. | <code>title="<i>Ticket Title</i>"</code> |
| `body` | Yes | Enter the description for the issue. | <code>body="<i>Ticket issue description</i>"</code> |
| `category` | Yes | Enter the category. Options are: `BUG`, `HARDWARE`, `INSTALL`, and `PERFORMANCE`. | <code>category="<i>BUG</i>"</code> |
| `criticality` | Yes | Enter the level of criticality or two double quotes for null. | `criticality=""` |
| `environment` | Yes | Enter the system type, for exampe, M50, M60, etc. | <code>environment="<i>M50</i>"</code> |
| `name` | Yes | Enter the name for the person Support should contact. | <code>name="<i>Gene Pool</i>"</code> |
| `phone` | Yes | Enter the phone number for the contact person. | <code>phone="<i>123-456-7890</i>"</code> |
| `email` | Yes | Enter the email for the contact person. | <code>email="<i>gpool&#64;gmail.com</i>"</code> |
| `type` | No | Enter the ticket type as `BUG` if reporting a problem or if suggesting a new feature or function, `FEATURE`. | <code>type="<i>BUG</i>"</code> |
| `cc` | No | Enter an email for each additional person, group, or location that should receive a copy of the ticket confirmation or other notifications. Enter multiple email addresses separated by a comma. | <code>cc="<i>gpoolgroup&#64;gmail.com</i>"</code> |

<!-- No information on token, and attach_debug errors as not a boolean but it is one.
| `attach_debug` | No | Enter `true` to generate a system debug and attach it to the new issue. This report contains an overview of the system hardware, build string, and configuration and can take several minutes.| <code>attach_debug="<i>true/false</i>"</code> |
| `token` | No | Enter any authentication token | <code>token="<i>token</i>"</code> | -->
{{< /truetable >}}
{{< /expand >}}

#### Usage
From the CLI prompt, enter:

<code>system support new_ticket new_ticket= {"title":"<i>Test Ticket Created with CLI</i>","body":"<i>Created this ticket using the CLI Support command</i>","category":"<i>BUG</i>","criticality":"","environment":"<i>M50</i>","name":"<i>test user</i>","phone":"<i>123-456-7890</i>","email":"<i>testuser&#64;gmail.com</i>"}</code>

Where:
* *Test Ticket Created with CLI* is title for the support ticket.
* *Created this ticket using the CLI support command* is the description of the issue.
* *BUG* is the type of ticket (category)
* *M50* is the type of system (environment)
* *test user* is the name of the user
* *123-456-7890* is the phone number for the user account.
* *testuser&#64;gmail.com* is the email for the user account.

{{< expand "Command Example" "v" >}}
```
system support new_ticket new_ticket= {"title":"Test Ticket Created with CLI","body":"Created this ticket using the CLI Support command","category":"BUG","criticality":"","environment":"M50","name":"mic J","phone":"123-456-7890","email":"mjohnson@ixsystems.com"}
[0%] ...
[1%] Gathering data...
[20%] Submitting ticket...
[50%] Ticket created: 8658131359842353...
[100%] Ticket created: 8658131359842353...
+-----------+------------------------------------------------------------------+
|    ticket | 8658131359842353                                                 |
|       url | https://support-proxy.ixsystems.com/issues/salesforce/8658131... |
| has_debug | false                                                            |
+-----------+------------------------------------------------------------------+
```
{{< /expand >}}
{{< /expand >}}

### Update Command
Use the `update` command to change the settings for an existing proactive account.

{{< expand "Using the Update Command" "v" >}}
#### Description
The `Update` command has nine optional properties (see **Update Properties** below for details.)
Enter property arguments using the `=` delimiter to separate property and value. Double-quote values with special characters.
Enter the command string then press <kbd>Enter</kbd>.
The command returns an empty line when successful.

{{< expand "Update Properties" "v" >}}
{{< truetable >}}
| Property | Description | Syntax Example |
|----------|-------------|----------------|
| `enabled` | Enter true to enable proactive support. | <code>enabled="<i>true/false</i>"</code> |
| `name` | Enter the name of the person serving as the primary contact for support issues. | <code>name="<i>Gene Pool</i>"</code> |
| `title` | Enter the title for the person serving as primary contact for support issues. | <code>title="<i>Sr System Admin</i>"</code> |
| `email` | Enter the primary contact email for support issues. | <code>email="<i>gpool&#64;gmail.com</i>"</code> |
| `phone` | Enter the primary contact phone number for support issues. | <code>phone="<i>123-456-7890</i>"</code> |
| `secondary_name` | Enter the name of the person, group, or location serving as secondary contact for support issues. | <code>secondary_name="<i>Bob Bing</i>"</code> |
| `secondary_title` | Enter the title of the person, group, or location serving as secondary contact for support issues. | <code>secondary_title="<i>IT Manager</i>"</code> |
| `secondary_email` | Enter the secondary contact email for support issues. | <code>secondary_email="<i>bobbing&#64;gmail.com</i>"</code> |
| `secondary_phone` | Enter the secondary contact phone number for support issues. | <code>secondary_phone="<i>123-456-7891</i>"</code> |
{{< /truetable >}}
{{< /expand >}}

#### Usage
From the CLI prompt, enter:

<code>system support update name="<i>test user</i>" title="<i>tech doc</i>"</code>

Where:
* *test user* is name of the user.
* *tech doc* is the title for the user.

{{< expand "Command Example" "v" >}}
```
system support update name="test user" title="tech doc"

```
{{< /expand >}}
{{< /expand >}}
